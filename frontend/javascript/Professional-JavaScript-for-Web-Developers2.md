修摘自《JavaScript高级程序设计第3版》

第6章 面向对象的程序设计
----------------------

理解对象的属性
理解并创建对象
理解继承

**6.1 理解对象**

**6.1.1 属性类型**

ECMAScript中有两种属性：数据属性和访问器属性。

1.数据属性

数据属性包含一个数据值的位置。在这个位置可以读取和写入值。数据属性有4个描述其行为的特性。

``` [[Configurable]] ``` 表示能否通过delete删除属性从而重新定义属性，能否修改属性的特性，或者能否把属性修改为访问器属性。

```[[Enumerable]]``` 表示能否通过for-in循环返回属性。

```[[Writable]]``` 表示能否修改属性的值。

```[[Value]]``` 包含这个属性的数据值。读取属性值的时候，从这个位置读；写入属性值的时候，把新值保存在这个位置。这个特性的默认值为undefined。

2.访问器属性

访问器属性不包含数据值，它们包含一对getter和setter函数（这两个寒暑都不是必需的）。在读取访问器属性时，会调用getter函数，这个函数负责返回有效的值；在写入访问器属性时，会调用setter函数并传入新值，这个函数负责决定如何处理数据。访问器属性有如下4个特性。

``` [[Configurable]] ``` 表示能否通过delete删除属性从而重新定义属性，能否修改属性的特性，或者能否把属性修改为数据属性。对于直接定义在对象上的属性，这个特性的默认值为true。

```[[Enumerable]]``` 表示能否通过for-in循环返回属性。对于直接定义在对象上的属性，这个特性的默认值为true。

```[[Get]]``` 在读取属性时调用的函数。默认值为undefined。

```[[Set]]``` 在写入属性的时调用的函数。默认值为undefined。


**6.1.2 定义多个属性**
**6.1.3 读取属性的特性**

**6.2 创建对象**

虽然Object构造函数或对象字面量都可以用来创建对象，但这些方式有个明显的缺点：使用同一个接口创建很多对象，会产生大量的重复代码。为了解决这个问题，人们开始使用工厂模式的一种变体。

**6.2.1 工厂模式**

工厂模式是软件工程领域一种广为人知的设计模式，这种模式抽象了创建具体对象的过程（本书后面还将讨论其它设计模式及其在Javascript中的实现）。考虑到在ECMAScript中无法创建类，开发人员就发明了一种函数，用函数来封装以特定接口创建对象的细节，如下面的例子所示。

```javascript
function createPerson(name, age, job) {
    var o = new Object();
    o.name = name;
    o.age = age;
    o.job = job;
    o.sayname = function() {
        alert(this.name);
    }
    return o;
}
```

函数createPerson()能够根据接受的函数来创建一个包含所有必要信息的Person对象。可以无数次底调用这个函数，而每次它都会返回一个包含三个属性和一个方法的对象。工厂模式虽然解决了创建多个相似对象的问题，但却没有解决对象识别的问题（即怎么知道一个对象的类型）。随着javascript的发展，又一个新模式出现了。

**6.2.2 构造函数模式**
**6.2.3 原型模式**
**6.2.4 组合使用构造函数模式和原型模式**
**6.2.5 动态原型模式**
**6.2.6 寄生构造函数模式**
**6.2.7 稳妥构造函数模式**

**6.3 继承**
**6.3.1 原型链**
**6.3.2 借用构造函数**
**6.3.3 组合继承**
**6.3.4 原型式继承**
**6.3.5 寄生式继承**
**6.3.6 寄生组合式继承**

**6.4 小结**
